<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.chart.*?>
<?import javafx.geometry.Insets?>
<?import javafx.geometry.Pos?>

<AnchorPane xmlns="http://javafx.com/javafx/16"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:id="analyticsRoot"
            fx:controller="com.controllers.AnalyticsController"
            prefWidth="1000" prefHeight="700"
            styleClass="budget-root">

    <VBox spacing="20" layoutX="20" layoutY="20" prefWidth="960">

        <!-- PAGE TITLE + FILTERS -->
        <HBox alignment="CENTER_LEFT" spacing="20">
            <Label text="Analytics" styleClass="page-title"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <DatePicker fx:id="fromDatePicker" promptText="From"/>
            <DatePicker fx:id="toDatePicker" promptText="To"/>
            <ComboBox fx:id="categoryCombo" promptText="Category" prefWidth="150"/>
            <ComboBox fx:id="accountCombo" promptText="Account" prefWidth="150"/>
            <Button fx:id="btnResetFilters" text="Reset"/>
        </HBox>

        <!-- MAIN CHART AREA -->
        <GridPane prefHeight="600" styleClass="table-dark" hgap="12" vgap="12">

            <columnConstraints>
                <ColumnConstraints percentWidth="40"/>
                <ColumnConstraints percentWidth="60"/>
            </columnConstraints>

            <rowConstraints>
                <RowConstraints vgrow="ALWAYS"/>
            </rowConstraints>

            <!-- PIE CHART -->
            <VBox GridPane.columnIndex="0" spacing="10" prefWidth="380" prefHeight="600">
                <Label text="Expenses by Category" styleClass="section-title"/>
                <PieChart fx:id="expensePieChart" prefHeight="540" prefWidth="350"/>
            </VBox>

            <!-- LINE CHARTS -->
            <VBox GridPane.columnIndex="1" spacing="16" prefWidth="560" prefHeight="600">
                <Label text="Monthly Trends" styleClass="section-title"/>

                <LineChart fx:id="expensesLineChart" title="Expenses by Month" prefHeight="270" prefWidth="550">
                    <xAxis>
                        <CategoryAxis label="Month"/>
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="Amount"/>
                    </yAxis>
                </LineChart>

                <LineChart fx:id="incomeLineChart" title="Income by Month" prefHeight="270" prefWidth="550">
                    <xAxis>
                        <CategoryAxis label="Month"/>
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="Amount"/>
                    </yAxis>
                </LineChart>
            </VBox>

        </GridPane>

    </VBox>

</AnchorPane>
